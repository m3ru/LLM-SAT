{"id": "batch_req_6921e96674608190bf70b90925bf3772", "custom_id": "req-0001", "response": {"status_code": 200, "request_id": "40262fbfdc1c359809f391d17e8635be", "body": {"id": "resp_022c8aaddf53619a006921e5cf61c881a2b0cd0c8c19decedb", "object": "response", "created_at": 1763829199, "status": "completed", "background": false, "billing": {"payer": "developer"}, "error": null, "incomplete_details": null, "instructions": null, "max_output_tokens": null, "max_tool_calls": null, "model": "gpt-4.1-2025-04-14", "output": [{"id": "msg_022c8aaddf53619a006921e5cfcb6c81a2a26fff8abb5c6d87", "type": "message", "status": "completed", "content": [{"type": "output_text", "annotations": [], "logprobs": [], "text": "<code>\nbool kissat_restarting(kissat *solver) {\n    assert(solver->unassigned);\n    if (!GET_OPTION(restart))\n        return false;\n\n    // Dual-Glue Adaptive Restart (DGAR) Policy\n\n    // a. Not in stable stage (is stable stage == false)\n    if (solver->stable)\n        return false;\n\n    // b. Current decision level > 0\n    if (solver->level == 0)\n        return false;\n\n    // Number of conflicts since last restart\n    const uint64_t conflicts = solver->statistics.conflicts;\n    const uint64_t conflict_limit = solver->limits.restart.conflicts;\n\n    // c. Number of conflicts since last restart >= 50\n    if (conflicts < 50)\n        return false;\n\n    // fast_glue and slow_glue averages\n    const double fast_glue = AVERAGE(fast_glue);\n    const double slow_glue = AVERAGE(slow_glue);\n\n    // d. R = fast_glue / slow_glue > 1.05 (fast_glue is at least 5% higher than slow_glue)\n    bool trigger = false;\n    if (slow_glue > 0.0) {\n        const double R = fast_glue / slow_glue;\n        if (R > 1.05)\n            trigger = true;\n    }\n\n    // Tie-breaker: If conflicts since last restart exceed 500, force a restart\n    if (conflicts >= 500)\n        trigger = true;\n\n    if (trigger) {\n        kissat_extremely_verbose(\n            solver,\n            \"DGAR restart: level %u, conflicts since last restart %\" PRIu64\n            \", fast_glue %.2f, slow_glue %.2f\",\n            solver->level, conflicts, fast_glue, slow_glue\n        );\n        return true;\n    }\n\n    return false;\n}\n</code>"}], "role": "assistant"}], "parallel_tool_calls": true, "previous_response_id": null, "prompt_cache_key": null, "prompt_cache_retention": null, "reasoning": {"effort": null, "summary": null}, "safety_identifier": null, "service_tier": "default", "store": true, "temperature": 0.7, "text": {"format": {"type": "text"}, "verbosity": "medium"}, "tool_choice": "auto", "tools": [], "top_logprobs": 0, "top_p": 1.0, "truncation": "disabled", "usage": {"input_tokens": 1303, "input_tokens_details": {"cached_tokens": 0}, "output_tokens": 402, "output_tokens_details": {"reasoning_tokens": 0}, "total_tokens": 1705}, "user": null, "metadata": {}}}, "error": null}
{"id": "batch_req_6921e96688608190b07037dc1758e40b", "custom_id": "req-0002", "response": {"status_code": 200, "request_id": "962718a2908ddd9dadd7fd190ae5e7e4", "body": {"id": "resp_042bc4e4fb4294d1006921e60b1bd081919446f6253898a482", "object": "response", "created_at": 1763829259, "status": "completed", "background": false, "billing": {"payer": "developer"}, "error": null, "incomplete_details": null, "instructions": null, "max_output_tokens": null, "max_tool_calls": null, "model": "gpt-4.1-2025-04-14", "output": [{"id": "msg_042bc4e4fb4294d1006921e60b824481918be8af294f01c348", "type": "message", "status": "completed", "content": [{"type": "output_text", "annotations": [], "logprobs": [], "text": "<code>\nbool kissat_restarting(kissat *solver) {\n  assert(solver->unassigned);\n\n  // Option check: if restart is disabled, never trigger\n  if (!GET_OPTION(restart))\n    return false;\n\n  // 1. Not in stable stage (is stable stage == false)\n  if (solver->stable)\n    return false;\n\n  // 2. Current decision level > 0\n  if (!solver->level)\n    return false;\n\n  // 3. Number of conflicts since last restart >= 50\n  const uint64_t conflicts = solver->statistics.conflicts;\n  const uint64_t limit = solver->limits.restart.conflicts;\n  if (conflicts < limit + 50)\n    return false;\n\n  // Get glue averages\n  const double fast = AVERAGE(fast_glue);\n  const double slow = AVERAGE(slow_glue);\n\n  // 4. Compute R = fast_glue / slow_glue\n  double R = 1.0;\n  if (slow > 0.0)\n    R = fast / slow;\n\n  // 5. Trigger if R > 1.05 (fast_glue is at least 5% higher than slow_glue)\n  const bool glue_trigger = (R > 1.05);\n\n  // 6. Tie-breaker: If conflicts since last restart exceed 500, force a restart\n  const bool force_trigger = (conflicts >= limit + 500);\n\n  if (glue_trigger || force_trigger) {\n    kissat_extremely_verbose(\n      solver,\n      \"Dual-Glue Adaptive Restart: fast_glue %.2f, slow_glue %.2f, R=%.3f, trigger=%s, conflicts since last restart=%\" PRIu64,\n      fast, slow, R, glue_trigger ? \"GLUE\" : (force_trigger ? \"TIE\" : \"NONE\"), conflicts - limit);\n\n    // 7. After a restart, reset the conflict counter (by advancing the limit)\n    solver->limits.restart.conflicts = conflicts;\n    return true;\n  }\n\n  return false;\n}\n</code>"}], "role": "assistant"}], "parallel_tool_calls": true, "previous_response_id": null, "prompt_cache_key": null, "prompt_cache_retention": null, "reasoning": {"effort": null, "summary": null}, "safety_identifier": null, "service_tier": "default", "store": true, "temperature": 0.7, "text": {"format": {"type": "text"}, "verbosity": "medium"}, "tool_choice": "auto", "tools": [], "top_logprobs": 0, "top_p": 1.0, "truncation": "disabled", "usage": {"input_tokens": 1303, "input_tokens_details": {"cached_tokens": 0}, "output_tokens": 446, "output_tokens_details": {"reasoning_tokens": 0}, "total_tokens": 1749}, "user": null, "metadata": {}}}, "error": null}
{"id": "batch_req_6921e96689188190acd25015d26adcbb", "custom_id": "req-0003", "response": {"status_code": 200, "request_id": "5905049de249d496722addd147896124", "body": {"id": "resp_0c64165812014017006921e60b1c4081a1bed34f8c7a19c4e6", "object": "response", "created_at": 1763829259, "status": "completed", "background": false, "billing": {"payer": "developer"}, "error": null, "incomplete_details": null, "instructions": null, "max_output_tokens": null, "max_tool_calls": null, "model": "gpt-4.1-2025-04-14", "output": [{"id": "msg_0c64165812014017006921e60b55b081a18f472e162a1dd797", "type": "message", "status": "completed", "content": [{"type": "output_text", "annotations": [], "logprobs": [], "text": "<code>\nbool kissat_restarting(kissat *solver)\n{\n  assert(solver->unassigned);\n\n  // Only allow restarts if enabled by option.\n  if (!GET_OPTION(restart))\n    return false;\n\n  // Dual-Glue Adaptive Restart (DGAR) Policy:\n\n  // 1. Only in non-stable stage.\n  if (solver->stable)\n    return false;\n\n  // 2. Only if decision level > 0.\n  if (!solver->level)\n    return false;\n\n  // 3. Only if number of conflicts since last restart >= 50.\n  if (CONFLICTS < 50)\n    return false;\n\n  // 4. Compute the relative increase R = fast_glue / slow_glue.\n  const double fast = AVERAGE(fast_glue);\n  const double slow = AVERAGE(slow_glue);\n\n  // Prevent division by zero.\n  if (slow <= 0.0)\n    return false;\n\n  const double R = fast / slow;\n\n  // 5. Tie-breaker: If conflicts since last restart exceed 500, force a restart.\n  if (CONFLICTS >= 500) {\n    kissat_extremely_verbose(\n      solver,\n      \"DGAR: conflicts since last restart = %ld >= 500, forcing restart\",\n      CONFLICTS);\n    return true;\n  }\n\n  // 6. Restart if R > 1.05 (fast_glue at least 5% higher than slow_glue).\n  if (R > 1.05) {\n    kissat_extremely_verbose(\n      solver,\n      \"DGAR: R = fast_glue / slow_glue = %g / %g = %.3f > 1.05, triggering restart\",\n      fast, slow, R);\n    return true;\n  }\n\n  // Otherwise, do not restart.\n  return false;\n}\n</code>"}], "role": "assistant"}], "parallel_tool_calls": true, "previous_response_id": null, "prompt_cache_key": null, "prompt_cache_retention": null, "reasoning": {"effort": null, "summary": null}, "safety_identifier": null, "service_tier": "default", "store": true, "temperature": 0.7, "text": {"format": {"type": "text"}, "verbosity": "medium"}, "tool_choice": "auto", "tools": [], "top_logprobs": 0, "top_p": 1.0, "truncation": "disabled", "usage": {"input_tokens": 1303, "input_tokens_details": {"cached_tokens": 0}, "output_tokens": 396, "output_tokens_details": {"reasoning_tokens": 0}, "total_tokens": 1699}, "user": null, "metadata": {}}}, "error": null}
{"id": "batch_req_6921e96686248190a31959e9a3ef29d2", "custom_id": "req-0004", "response": {"status_code": 200, "request_id": "e874f2e777de4049390690bf10465b86", "body": {"id": "resp_074d92ca3a02de15006921e60b1e008191a593736b4fd2f8d0", "object": "response", "created_at": 1763829259, "status": "completed", "background": false, "billing": {"payer": "developer"}, "error": null, "incomplete_details": null, "instructions": null, "max_output_tokens": null, "max_tool_calls": null, "model": "gpt-4.1-2025-04-14", "output": [{"id": "msg_074d92ca3a02de15006921e60b55188191b88eae9fd513efd1", "type": "message", "status": "completed", "content": [{"type": "output_text", "annotations": [], "logprobs": [], "text": "<code>\nbool kissat_restarting(kissat *solver) {\n  assert(solver->unassigned);\n\n  // Only consider restarts if restart option is enabled\n  if (!GET_OPTION(restart))\n    return false;\n\n  // Do not restart at root level\n  if (!solver->level)\n    return false;\n\n  // Only apply this heuristic in non-stable (focused) phase\n  if (solver->stable)\n    return false;\n\n  // Number of conflicts since last restart\n  const uint64_t conflicts = solver->statistics.conflicts;\n\n  // Require at least 50 conflicts since last restart\n  if (conflicts < 50)\n    return false;\n\n  // Compute fast and slow glue averages\n  const double fast = AVERAGE(fast_glue);\n  const double slow = AVERAGE(slow_glue);\n\n  // Compute relative increase\n  const double rel = slow > 0 ? (fast / slow) : 0.0;\n\n  // Check primary restart condition: fast_glue at least 5% higher than slow_glue\n  if (rel > 1.05)\n    return true;\n\n  // Tie-breaker: if more than 500 conflicts since last restart, force restart\n  if (conflicts >= 500)\n    return true;\n\n  // Otherwise, do not restart\n  return false;\n}\n</code>"}], "role": "assistant"}], "parallel_tool_calls": true, "previous_response_id": null, "prompt_cache_key": null, "prompt_cache_retention": null, "reasoning": {"effort": null, "summary": null}, "safety_identifier": null, "service_tier": "default", "store": true, "temperature": 0.7, "text": {"format": {"type": "text"}, "verbosity": "medium"}, "tool_choice": "auto", "tools": [], "top_logprobs": 0, "top_p": 1.0, "truncation": "disabled", "usage": {"input_tokens": 1303, "input_tokens_details": {"cached_tokens": 0}, "output_tokens": 285, "output_tokens_details": {"reasoning_tokens": 0}, "total_tokens": 1588}, "user": null, "metadata": {}}}, "error": null}
{"id": "batch_req_6921e9668bbc81908fa922f2045d61a5", "custom_id": "req-0005", "response": {"status_code": 200, "request_id": "8877d633b5d73bb2a2d2a2ad2e1ca005", "body": {"id": "resp_02fcb4c63091adf4006921e5cfce0c81a38831a24f5700adf5", "object": "response", "created_at": 1763829199, "status": "completed", "background": false, "billing": {"payer": "developer"}, "error": null, "incomplete_details": null, "instructions": null, "max_output_tokens": null, "max_tool_calls": null, "model": "gpt-4.1-2025-04-14", "output": [{"id": "msg_02fcb4c63091adf4006921e5d0124881a3a2b033191272c470", "type": "message", "status": "completed", "content": [{"type": "output_text", "annotations": [], "logprobs": [], "text": "<code>\nbool kissat_restarting (kissat *solver) {\n  assert(solver->unassigned);\n  if (!GET_OPTION(restart))\n    return false;\n\n  // Only apply in non-stable (focused) phase\n  if (solver->stable)\n    return false;\n\n  // Only if at non-root decision level\n  if (solver->level == 0)\n    return false;\n\n  // Conflicts since last restart\n  uint64_t conflicts = solver->statistics.conflicts;\n  uint64_t limit = solver->limits.restart.conflicts;\n\n  // Require at least 50 conflicts since last restart\n  if (conflicts < 50)\n    return false;\n\n  // Tie-breaker: if over 500 conflicts since last restart, force restart\n  if (conflicts >= 500)\n    return true;\n\n  // Compute moving averages\n  const double fast = AVERAGE(fast_glue);\n  const double slow = AVERAGE(slow_glue);\n\n  // Avoid division by zero\n  if (slow <= 0.0)\n    return false;\n\n  const double R = fast / slow;\n\n  kissat_extremely_verbose(\n    solver,\n    \"DGAR: fast_glue=%.2f slow_glue=%.2f R=%.3f (trigger if R > 1.05)\",\n    fast, slow, R\n  );\n\n  if (R > 1.05)\n    return true;\n\n  return false;\n}\n</code>"}], "role": "assistant"}], "parallel_tool_calls": true, "previous_response_id": null, "prompt_cache_key": null, "prompt_cache_retention": null, "reasoning": {"effort": null, "summary": null}, "safety_identifier": null, "service_tier": "default", "store": true, "temperature": 0.7, "text": {"format": {"type": "text"}, "verbosity": "medium"}, "tool_choice": "auto", "tools": [], "top_logprobs": 0, "top_p": 1.0, "truncation": "disabled", "usage": {"input_tokens": 1303, "input_tokens_details": {"cached_tokens": 0}, "output_tokens": 310, "output_tokens_details": {"reasoning_tokens": 0}, "total_tokens": 1613}, "user": null, "metadata": {}}}, "error": null}
{"id": "batch_req_6921e96684f88190982849b9a130f57a", "custom_id": "req-0006", "response": {"status_code": 200, "request_id": "607cc78a74e8bfbd3bc81fccdb9b3c28", "body": {"id": "resp_0254fbe0a6a3ac5e006921e5cf8730819cbed67ee7a15466af", "object": "response", "created_at": 1763829199, "status": "completed", "background": false, "billing": {"payer": "developer"}, "error": null, "incomplete_details": null, "instructions": null, "max_output_tokens": null, "max_tool_calls": null, "model": "gpt-4.1-2025-04-14", "output": [{"id": "msg_0254fbe0a6a3ac5e006921e5d00de8819cb507211ccab68232", "type": "message", "status": "completed", "content": [{"type": "output_text", "annotations": [], "logprobs": [], "text": "<code>\nbool kissat_restarting(kissat *solver) {\n  assert(solver->unassigned);\n  // Option: enable/disable restarting\n  if (!GET_OPTION(restart))\n    return false;\n\n  // Only trigger if NOT in stable stage\n  if (solver->stable)\n    return false;\n\n  // Only trigger if search depth is positive\n  if (!solver->level)\n    return false;\n\n  // Conflicts since last restart\n  const uint64_t conflicts = solver->statistics.conflicts;\n  const uint64_t limit = solver->limits.restart.conflicts;\n\n  // Require at least 50 conflicts since last restart\n  if (conflicts < 50)\n    return false;\n\n  // Tie-breaker: If conflicts since last restart exceed 500, force restart\n  if (conflicts >= 500)\n    return true;\n\n  // Compute fast and slow glue averages\n  const double fast = AVERAGE(fast_glue);\n  const double slow = AVERAGE(slow_glue);\n\n  // Relative increase threshold\n  const double ratio = fast / slow;\n\n  kissat_extremely_verbose(\n    solver,\n    \"DGAR restart: fast_glue %.2f slow_glue %.2f ratio %.3f (must exceed 1.05)\",\n    fast, slow, ratio\n  );\n\n  // Restart if recent clause quality is significantly worse than long-term\n  return ratio > 1.05;\n}\n</code>"}], "role": "assistant"}], "parallel_tool_calls": true, "previous_response_id": null, "prompt_cache_key": null, "prompt_cache_retention": null, "reasoning": {"effort": null, "summary": null}, "safety_identifier": null, "service_tier": "default", "store": true, "temperature": 0.7, "text": {"format": {"type": "text"}, "verbosity": "medium"}, "tool_choice": "auto", "tools": [], "top_logprobs": 0, "top_p": 1.0, "truncation": "disabled", "usage": {"input_tokens": 1303, "input_tokens_details": {"cached_tokens": 0}, "output_tokens": 303, "output_tokens_details": {"reasoning_tokens": 0}, "total_tokens": 1606}, "user": null, "metadata": {}}}, "error": null}
{"id": "batch_req_6921e96685708190853d1763b0d15c08", "custom_id": "req-0007", "response": {"status_code": 200, "request_id": "26c342e59e56d486e4d2cf27e9feeeb3", "body": {"id": "resp_0688eb10be85cf08006921e5d41d6881a19422b35ea4a18d3d", "object": "response", "created_at": 1763829204, "status": "completed", "background": false, "billing": {"payer": "developer"}, "error": null, "incomplete_details": null, "instructions": null, "max_output_tokens": null, "max_tool_calls": null, "model": "gpt-4.1-2025-04-14", "output": [{"id": "msg_0688eb10be85cf08006921e5d457e081a1b50e8def1a363bfa", "type": "message", "status": "completed", "content": [{"type": "output_text", "annotations": [], "logprobs": [], "text": "<code>\nbool kissat_restarting(kissat *solver) {\n  assert(solver->unassigned);\n\n  // Option disabled?\n  if (!GET_OPTION(restart))\n    return false;\n\n  // Only allow restarts at decision level > 0\n  if (!solver->level)\n    return false;\n\n  // Only trigger when not in stable phase\n  if (solver->stable)\n    return false;\n\n  // Number of conflicts since last restart\n  const uint64_t conflicts = CONFLICTS;\n\n  // Condition c: At least 50 conflicts since last restart\n  if (conflicts < 50)\n    return false;\n\n  // Compute fast and slow glue moving averages\n  const double fast_glue = AVERAGE(fast_glue);\n  const double slow_glue = AVERAGE(slow_glue);\n\n  // Compute relative increase R = fast_glue / slow_glue\n  double R = 0.0;\n  if (slow_glue > 0.0)\n    R = fast_glue / slow_glue;\n\n  // Extremely verbose output for debugging\n  kissat_extremely_verbose(\n    solver,\n    \"DGAR: fast_glue %.2f, slow_glue %.2f, R = %.4f, conflicts = %\" PRIu64,\n    fast_glue, slow_glue, R, conflicts);\n\n  // Tie-breaker: Force restart if conflicts > 500\n  if (conflicts > 500) {\n    kissat_extremely_verbose(solver, \"DGAR: forced restart after >500 conflicts\");\n    return true;\n  }\n\n  // Restart if fast_glue is at least 5% worse than slow_glue\n  if (R > 1.05) {\n    kissat_extremely_verbose(solver, \"DGAR: triggered by glue increase (R=%.4f > 1.05)\", R);\n    return true;\n  }\n\n  return false;\n}\n</code>"}], "role": "assistant"}], "parallel_tool_calls": true, "previous_response_id": null, "prompt_cache_key": null, "prompt_cache_retention": null, "reasoning": {"effort": null, "summary": null}, "safety_identifier": null, "service_tier": "default", "store": true, "temperature": 0.7, "text": {"format": {"type": "text"}, "verbosity": "medium"}, "tool_choice": "auto", "tools": [], "top_logprobs": 0, "top_p": 1.0, "truncation": "disabled", "usage": {"input_tokens": 1303, "input_tokens_details": {"cached_tokens": 0}, "output_tokens": 407, "output_tokens_details": {"reasoning_tokens": 0}, "total_tokens": 1710}, "user": null, "metadata": {}}}, "error": null}
{"id": "batch_req_6921e96684448190a54eb258baa1160b", "custom_id": "req-0008", "response": {"status_code": 200, "request_id": "100b1d7a348dd4145fe73503afc7ccd6", "body": {"id": "resp_02f4fcbcf3d74dd1006921e5d45318819daca85f5599177ee6", "object": "response", "created_at": 1763829204, "status": "completed", "background": false, "billing": {"payer": "developer"}, "error": null, "incomplete_details": null, "instructions": null, "max_output_tokens": null, "max_tool_calls": null, "model": "gpt-4.1-2025-04-14", "output": [{"id": "msg_02f4fcbcf3d74dd1006921e5d4b2cc819d8f2c74c8a6a21621", "type": "message", "status": "completed", "content": [{"type": "output_text", "annotations": [], "logprobs": [], "text": "<code>\nbool kissat_restarting(kissat *solver) {\n  assert(solver->unassigned);\n\n  // Option to disable restarts globally.\n  if (!GET_OPTION(restart))\n    return false;\n\n  // Only trigger restarts in non-stable stage.\n  if (solver->stable)\n    return false;\n\n  // Only consider restart if at a decision level > 0.\n  if (!solver->level)\n    return false;\n\n  // Number of conflicts since last restart.\n  const uint64_t conflicts = solver->statistics.conflicts;\n  const uint64_t conflict_limit = solver->limits.restart.conflicts;\n\n  // Only consider restart if at least 50 conflicts since last restart.\n  if (conflicts < 50)\n    return false;\n\n  // Tie-breaker: force restart if conflicts since last restart exceed 500.\n  if (conflicts >= 500)\n    return true;\n\n  // Compute fast and slow glue averages.\n  const double fast_glue = AVERAGE(fast_glue);\n  const double slow_glue = AVERAGE(slow_glue);\n\n  // Compute relative increase R = fast_glue / slow_glue.\n  double R = (slow_glue > 0.0) ? (fast_glue / slow_glue) : 0.0;\n\n  kissat_extremely_verbose(\n      solver,\n      \"DGAR: fast_glue = %.2f, slow_glue = %.2f, R = %.4f, conflicts = %\" PRIu64,\n      fast_glue, slow_glue, R, conflicts);\n\n  // Restart if R > 1.05 (fast_glue is at least 5% higher than slow_glue).\n  if (R > 1.05)\n    return true;\n\n  return false;\n}\n</code>"}], "role": "assistant"}], "parallel_tool_calls": true, "previous_response_id": null, "prompt_cache_key": null, "prompt_cache_retention": null, "reasoning": {"effort": null, "summary": null}, "safety_identifier": null, "service_tier": "default", "store": true, "temperature": 0.7, "text": {"format": {"type": "text"}, "verbosity": "medium"}, "tool_choice": "auto", "tools": [], "top_logprobs": 0, "top_p": 1.0, "truncation": "disabled", "usage": {"input_tokens": 1303, "input_tokens_details": {"cached_tokens": 0}, "output_tokens": 376, "output_tokens_details": {"reasoning_tokens": 0}, "total_tokens": 1679}, "user": null, "metadata": {}}}, "error": null}
{"id": "batch_req_6921e966889c8190891d3e51afd09dc1", "custom_id": "req-0009", "response": {"status_code": 200, "request_id": "91f5902c268f7c914111c4f09e0ce84e", "body": {"id": "resp_048d1c59fef04344006921e95fd390819cac811da3c1ffaa9b", "object": "response", "created_at": 1763830111, "status": "completed", "background": false, "billing": {"payer": "developer"}, "error": null, "incomplete_details": null, "instructions": null, "max_output_tokens": null, "max_tool_calls": null, "model": "gpt-4.1-2025-04-14", "output": [{"id": "msg_048d1c59fef04344006921e9601f3c819c875bc2a5a31748c5", "type": "message", "status": "completed", "content": [{"type": "output_text", "annotations": [], "logprobs": [], "text": "<code>\nbool kissat_restarting(kissat *solver) {\n    assert(solver->unassigned);\n\n    // Dual-Glue Adaptive Restart (DGAR) Policy\n\n    // 1. Not in stable stage\n    if (solver->stable)\n        return false;\n\n    // 2. Must be at decision level > 0\n    if (!solver->level)\n        return false;\n\n    // 3. Conflicts since last restart >= 50\n    if (solver->statistics.conflicts < solver->limits.restart.conflicts + 50)\n        return false;\n\n    // 4. Compute glue averages and relative ratio\n    const double fast = AVERAGE(fast_glue);\n    const double slow = AVERAGE(slow_glue);\n\n    // Defensive: avoid division by zero\n    if (slow <= 0.0)\n        return false;\n\n    const double R = fast / slow;\n\n    // 5. Tie-breaker: force restart if too many conflicts since last restart\n    if (solver->statistics.conflicts >= solver->limits.restart.conflicts + 500) {\n        kissat_extremely_verbose(solver,\n            \"dgar forced restart: conflicts since last restart = %\" PRIu64,\n            solver->statistics.conflicts - solver->limits.restart.conflicts);\n        return true;\n    }\n\n    // 6. Restart if R > 1.05 (recent glue is at least 5% worse than long-term average)\n    if (R > 1.05) {\n        kissat_extremely_verbose(solver,\n            \"dgar restart: fast_glue = %.2f, slow_glue = %.2f, R = %.4f (> 1.05)\",\n            fast, slow, R);\n        return true;\n    }\n\n    return false;\n}\n</code>"}], "role": "assistant"}], "parallel_tool_calls": true, "previous_response_id": null, "prompt_cache_key": null, "prompt_cache_retention": null, "reasoning": {"effort": null, "summary": null}, "safety_identifier": null, "service_tier": "default", "store": true, "temperature": 0.7, "text": {"format": {"type": "text"}, "verbosity": "medium"}, "tool_choice": "auto", "tools": [], "top_logprobs": 0, "top_p": 1.0, "truncation": "disabled", "usage": {"input_tokens": 1303, "input_tokens_details": {"cached_tokens": 0}, "output_tokens": 376, "output_tokens_details": {"reasoning_tokens": 0}, "total_tokens": 1679}, "user": null, "metadata": {}}}, "error": null}
{"id": "batch_req_6921e96687248190ba15cc156aa324ab", "custom_id": "req-0010", "response": {"status_code": 200, "request_id": "6a4f2d9af1573d88ce9c113bccf0684a", "body": {"id": "resp_0291f376140c66a4006921e96011d0819282cacc4388f5af44", "object": "response", "created_at": 1763830112, "status": "completed", "background": false, "billing": {"payer": "developer"}, "error": null, "incomplete_details": null, "instructions": null, "max_output_tokens": null, "max_tool_calls": null, "model": "gpt-4.1-2025-04-14", "output": [{"id": "msg_0291f376140c66a4006921e9606344819284a6fc3c2f23fa38", "type": "message", "status": "completed", "content": [{"type": "output_text", "annotations": [], "logprobs": [], "text": "<code>\nbool kissat_restarting (kissat *solver)\n{\n  assert (solver->unassigned);\n\n  // Option check: If restarts are disabled, do not restart.\n  if (!GET_OPTION (restart))\n    return false;\n\n  // 1. Not in stable stage.\n  if (solver->stable)\n    return false;\n\n  // 2. Decision level must be > 0.\n  if (solver->level == 0)\n    return false;\n\n  // 3. Number of conflicts since last restart.\n  uint64_t conflicts = solver->statistics.conflicts;\n  uint64_t limit = solver->limits.restart.conflicts;\n\n  // a. Require at least 50 conflicts since last restart (limit)\n  if (conflicts < 50)\n    return false;\n\n  // 4. Tie-breaker: If conflicts since last restart exceed 500, force a restart.\n  if (conflicts >= 500)\n    return true;\n\n  // 5. Compute fast_glue and slow_glue averages.\n  const double fast = solver->averages[solver->stable].fast_glue.value;\n  const double slow = solver->averages[solver->stable].slow_glue.value;\n\n  // Avoid division by zero.\n  if (slow == 0.0)\n    return false;\n\n  const double R = fast / slow;\n\n  kissat_extremely_verbose (solver,\n    \"DGAR: fast_glue = %.2f, slow_glue = %.2f, R = %.3f\",\n    fast, slow, R);\n\n  // 6. Restart if fast_glue is at least 5% higher than slow_glue.\n  if (R > 1.05)\n    return true;\n\n  return false;\n}\n</code>"}], "role": "assistant"}], "parallel_tool_calls": true, "previous_response_id": null, "prompt_cache_key": null, "prompt_cache_retention": null, "reasoning": {"effort": null, "summary": null}, "safety_identifier": null, "service_tier": "default", "store": true, "temperature": 0.7, "text": {"format": {"type": "text"}, "verbosity": "medium"}, "tool_choice": "auto", "tools": [], "top_logprobs": 0, "top_p": 1.0, "truncation": "disabled", "usage": {"input_tokens": 1303, "input_tokens_details": {"cached_tokens": 0}, "output_tokens": 370, "output_tokens_details": {"reasoning_tokens": 0}, "total_tokens": 1673}, "user": null, "metadata": {}}}, "error": null}
